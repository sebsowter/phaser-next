"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3003:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(5155),s=n(1856),a=n(2115);let i=new s.Events.EventEmitter;var c=n(7927);class E extends Phaser.Scene{preload(){}create(){this.scene.start("loader")}}class u extends Phaser.Scene{create(){this._counter=this.add.text(320,160,"0").setOrigin(.5),this.add.text(320,128,"Count").setOrigin(.5),this.add.text(320,192,"INCREMENT").setOrigin(.5).setInteractive().on("pointerdown",function(){i.emit(c.F.INCREMENT_COUNTER)}),i.emit(c.F.GAME_SCENE_READY,this)}setCounter(e){this._counter.setText(e.toString())}constructor(){super({key:"game",active:!1,visible:!1})}}class l extends Phaser.Scene{preload(){}create(){this.scene.start("game")}constructor(){super({key:"loader",active:!1,visible:!1})}}let o={type:Phaser.AUTO,width:640,height:320,parent:"phaser-container",scene:[E,l,u]};function d(e){let{eventRef:t}=e,n="phaser-container";return!function(e){let t=(0,a.useCallback)(t=>{var n;null===(n=e.current)||void 0===n||n.dispatchEvent(new CustomEvent(c.F.GAME_SCENE_READY,{detail:t}))},[e]),n=(0,a.useCallback)(t=>{var n;null===(n=e.current)||void 0===n||n.dispatchEvent(new CustomEvent(c.F.INCREMENT_COUNTER,{detail:t}))},[e]);(0,a.useEffect)(()=>(i.on(c.F.GAME_SCENE_READY,t),()=>{i.removeListener(c.F.GAME_SCENE_READY,t)}),[t]),(0,a.useEffect)(()=>(i.on(c.F.INCREMENT_COUNTER,n),()=>{i.removeListener(c.F.INCREMENT_COUNTER,n)}),[n])}(t),!function(e){let t=(0,a.useRef)(null);(0,a.useEffect)(()=>(null===t.current&&(t.current=new s.Game(e)),()=>{t.current&&(t.current.destroy(!0),t.current=null)}),[e])}({...o,parent:n}),(0,r.jsx)("div",{id:n})}}}]);